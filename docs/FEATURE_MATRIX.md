# Feature Matrix

| Feature | Main files | Stores | API endpoints | Tests |
| --- | --- | --- | --- | --- |
| Status colors | [src/utils/statusTheme.js](../src/utils/statusTheme.js) | – | – | – |
| Grouping/filters | [src/views/ChatsView.vue](../src/views/ChatsView.vue), [src/views/chatsUtils.js](../src/views/chatsUtils.js) | [src/stores/chatStore.js](../src/stores/chatStore.js) | `GET /chats` | [src/views/__tests__/ChatsView.search.test.js](../src/views/__tests__/ChatsView.search.test.js) |
| Presence stacks | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue), [src/views/ChatsView.vue](../src/views/ChatsView.vue), [src/components/StackedAvatars.vue](../src/components/StackedAvatars.vue) | [src/stores/presenceStore.js](../src/stores/presenceStore.js) | `POST /presence/list`, `POST /presence/join`, `POST /presence/leave` | [e2e/presence.spec.ts](../e2e/presence.spec.ts), [src/stores/__tests__/presenceStore.test.js](../src/stores/__tests__/presenceStore.test.js) |
| Tiny agent avatar | [src/components/AgentBadge.vue](../src/components/AgentBadge.vue), [src/views/ChatsView.vue](../src/views/ChatsView.vue) | [src/stores/agentStore.js](../src/stores/agentStore.js) | `GET /agents` | [src/views/__tests__/ChatsView.agentBadge.test.js](../src/views/__tests__/ChatsView.agentBadge.test.js) |
| SLA chips | [src/views/ChatsView.vue](../src/views/ChatsView.vue), [src/views/ChatWindow.vue](../src/views/ChatWindow.vue) | [src/stores/chatStore.js](../src/stores/chatStore.js), [src/stores/settingsStore.js](../src/stores/settingsStore.js) | – | [src/stores/__tests__/chatStore.sla.test.js](../src/stores/__tests__/chatStore.sla.test.js), [src/views/__tests__/SLAChips.test.js](../src/views/__tests__/SLAChips.test.js) |
| Interfere/Return | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue) | [src/stores/chatStore.js](../src/stores/chatStore.js) | `POST /chats/:id/interfere`, `POST /chats/:id/return` | – |
| Drafts | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue) | [src/stores/draftStore.js](../src/stores/draftStore.js) | `GET /drafts/list/:chatId`, `POST /drafts/approve/:id`, `POST /drafts/discard/:id` | [e2e/drafts-approve.spec.ts](../e2e/drafts-approve.spec.ts), [e2e/drafts-discard.spec.ts](../e2e/drafts-discard.spec.ts) |
| Auto-return | [src/stores/chatStore.js](../src/stores/chatStore.js) | [src/stores/agentStore.js](../src/stores/agentStore.js) | `POST /chats/:id/return` | [src/stores/__tests__/chatStore.autoReturn.test.js](../src/stores/__tests__/chatStore.autoReturn.test.js) |
| Assignment | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue), [src/views/ChatsView.vue](../src/views/ChatsView.vue) | [src/stores/chatStore.js](../src/stores/chatStore.js), [src/stores/presenceStore.js](../src/stores/presenceStore.js) | `POST /chats/:id/assign`, `POST /chats/:id/unassign`, `POST /chats/:id/transfer` | [src/stores/__tests__/chatStore.assignment.test.js](../src/stores/__tests__/chatStore.assignment.test.js) |
| Snooze | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue) | [src/stores/chatStore.js](../src/stores/chatStore.js) | `POST /chats/:id/snooze`, `POST /chats/:id/unsnooze` | – |
| Theme switcher | [src/components/ThemeSwitcher.vue](../src/components/ThemeSwitcher.vue) | [src/stores/settingsStore.js](../src/stores/settingsStore.js) | – | – |
| Language switcher | [src/components/LanguageSwitcher.vue](../src/components/LanguageSwitcher.vue) | [src/stores/langStore.js](../src/stores/langStore.js) | – | – |
| Workspace CRUD/switcher | [src/components/WorkspaceSwitcher.vue](../src/components/WorkspaceSwitcher.vue), [src/views/AccountView.vue](../src/views/AccountView.vue) | [src/stores/workspaceStore.js](../src/stores/workspaceStore.js) | `POST /workspaces`, `PATCH /workspaces/:id`, `DELETE /workspaces/:id` | [src/stores/__tests__/accountStore.test.js](../src/stores/__tests__/accountStore.test.js) |
| Knowledge (collections, sources, indexing) | [src/views/KnowledgeView.vue](../src/views/KnowledgeView.vue), [src/components/KnowledgeGroupForm.vue](../src/components/KnowledgeGroupForm.vue) | [src/stores/knowledgeStore.js](../src/stores/knowledgeStore.js), [src/stores/agentStore.js](../src/stores/agentStore.js) | `GET /knowledge*`, `POST /knowledge/*` | [src/views/__tests__/KnowledgeView.test.js](../src/views/__tests__/KnowledgeView.test.js) |
| Billing progress bar | [src/views/AccountView.vue](../src/views/AccountView.vue) | [src/stores/billingStore.js](../src/stores/billingStore.js) | `GET /api/account/billing` | [tests/billingStore.test.ts](../tests/billingStore.test.ts) |
| Token quota enforcement | [src/views/ChatWindow.vue](../src/views/ChatWindow.vue) | [src/stores/billingStore.js](../src/stores/billingStore.js), [src/stores/outboxStore.js](../src/stores/outboxStore.js) | `POST /api/chats/:id/messages` | [tests/billingStore.test.ts](../tests/billingStore.test.ts) |
| Admin plan manager | [apps/simulator-studio/src/pages/TenantView.vue](../apps/simulator-studio/src/pages/TenantView.vue) | [apps/simulator-studio/src/stores/billing.ts](../apps/simulator-studio/src/stores/billing.ts) | `POST /admin/billing/plan/change`, `POST /admin/billing/quota/update` | [apps/simulator-studio/src/stores/__tests__/billing.spec.ts](../apps/simulator-studio/src/stores/__tests__/billing.spec.ts) |
| Tenant RBAC (owner/operator/viewer) | [mock_backend/routes/auth.js](../mock_backend/routes/auth.js), [apps/simulator-studio/src/stores/auth.ts](../apps/simulator-studio/src/stores/auth.ts) | [apps/simulator-studio/src/stores/auth.ts](../apps/simulator-studio/src/stores/auth.ts) | `/auth/login`, `/auth/me`, `/admin/*` with role checks | [apps/simulator-studio/src/stores/__tests__/auth.spec.ts](../apps/simulator-studio/src/stores/__tests__/auth.spec.ts), [mock_backend/__tests__/admin-rbac.spec.ts](../mock_backend/__tests__/admin-rbac.spec.ts) |
| Admin SSE realtime chat | [mock_backend/routes/admin-events.js](../mock_backend/routes/admin-events.js), [apps/simulator-studio/src/composables/useAdminSse.ts](../apps/simulator-studio/src/composables/useAdminSse.ts) | [apps/simulator-studio/src/stores/realtime.ts](../apps/simulator-studio/src/stores/realtime.ts), [apps/simulator-studio/src/stores/chatConsole.ts](../apps/simulator-studio/src/stores/chatConsole.ts) | `GET /admin/events` | [mock_backend/__tests__/admin-events.spec.ts](../mock_backend/__tests__/admin-events.spec.ts), [apps/simulator-studio/src/stores/__tests__/chatConsole.spec.ts](../apps/simulator-studio/src/stores/__tests__/chatConsole.spec.ts) |
| Agent runner drafts | [mock_backend/utils/agentRunner.js](../mock_backend/utils/agentRunner.js) | [apps/simulator-studio/src/stores/agent.ts](../apps/simulator-studio/src/stores/agent.ts) | `POST /admin/agents/:id/*`, `agent:state` SSE | – |
| Pricing/upgrade | [src/views/PricingView.vue](../src/views/PricingView.vue) | [src/stores/accountStore.js](../src/stores/accountStore.js) | `POST /account/upgrade` | [src/views/__tests__/PricingView.test.js](../src/views/__tests__/PricingView.test.js) |
| Logout orchestrator | [src/stores/logout.js](../src/stores/logout.js) | [src/stores/logout.js](../src/stores/logout.js) | – | – |
| Virtual list | [src/components/VirtualList.vue](../src/components/VirtualList.vue) | – | – | [src/utils/__tests__/virtual.test.js](../src/utils/__tests__/virtual.test.js) |
| ActionMenu/Popover | [src/components/ActionMenu.vue](../src/components/ActionMenu.vue) | – | – | [src/components/__tests__/ActionMenu.test.js](../src/components/__tests__/ActionMenu.test.js) |
| Notifications | [src/components/ToastNotification.vue](../src/components/ToastNotification.vue) | [src/stores/toastStore.js](../src/stores/toastStore.js), [src/stores/settingsStore.js](../src/stores/settingsStore.js) | – | – |
| E2E scaffold | [e2e/chats-smoke.spec.ts](../e2e/chats-smoke.spec.ts), [e2e/sidebar.spec.ts](../e2e/sidebar.spec.ts) | – | – | – |
| Simulator Studio | [apps/simulator-studio](../apps/simulator-studio) | [apps/simulator-studio/src/stores/chatConsole.ts](../apps/simulator-studio/src/stores/chatConsole.ts), [apps/simulator-studio/src/stores/knowledge.ts](../apps/simulator-studio/src/stores/knowledge.ts), [apps/simulator-studio/src/stores/billing.ts](../apps/simulator-studio/src/stores/billing.ts) | `GET /admin/*`, `POST /admin/chats/*`, `POST /admin/knowledge/*`, `POST /admin/billing/*`, `POST /admin/auth/impersonate`, `POST /admin/dev/seed/reset` | [apps/simulator-studio/src/stores/__tests__/chatConsole.spec.ts](../apps/simulator-studio/src/stores/__tests__/chatConsole.spec.ts), [apps/simulator-studio/src/stores/__tests__/knowledge.spec.ts](../apps/simulator-studio/src/stores/__tests__/knowledge.spec.ts), [apps/simulator-studio/src/stores/__tests__/billing.spec.ts](../apps/simulator-studio/src/stores/__tests__/billing.spec.ts), [mock_backend/__tests__/admin-dev.spec.ts](../mock_backend/__tests__/admin-dev.spec.ts) |
